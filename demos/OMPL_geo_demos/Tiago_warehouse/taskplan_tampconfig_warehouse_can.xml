<?xml version="1.0"?>
<root main_tree_to_execute ='Main_Tree'>
	<BehaviourTree ID = 'Main_Tree'>
		<Fallback>
			<ReactiveSequence name = 'root_sequence'>
				<CheckObjQtySrv service_name = '/check_obj_qty' object_name1='WhitePawn' quantity1='2' object_name2='BlackPawn' quantity2='1' result='{response1}' sku_id = '{result}'/>
				<SubTree ID = 'Robot_Task_Behaviour'/>
			</ReactiveSequence>
			<AskForHelpAction server_name = '/tts' text = 'Hi Human, Can you please help me?' language_id = 'en_US' result = '{response}'/>
		</Fallback>
	</BehaviourTree>
	<BehaviourTree ID = 'Robot_Task_Behaviour'>
		<ReactiveSequence name = 'task_behaviour_sequence'>
			<Fallback>
				<CheckObjLocationSrv service_name = '/check_obj_location' sku_ids = '{result}' result = '{response1}' location_names = '{locations}'/>
				<SubTree ID = 'Replan_Task'/>
			</Fallback>
			<Fallback>
				<TaskCompleteSrv service_name = '/check_final_location' sku_ids = '{result}' final_location = 'C' result = '{response1}' />
				<SubTree ID = 'Task_BT'/>
			</Fallback>
		</ReactiveSequence>
	</BehaviourTree>
	<BehaviourTree ID = 'Task_BT'>
		<ReactiveSequence name = 'action_sequence'>
			<SubTree ID='MOVE1'/>
			<SubTree ID='PICK2'/>
			<SubTree ID='MOVE3'/>
			<SubTree ID='PLACE4'/>
		</ReactiveSequence>
	</BehaviourTree>
	<BehaviourTree ID = 'MOVE1'>
		<Fallback name = 'move_fallback'>
			<ReactiveSequence name = 'recovery_move'>
				<Fallback name = 'move_recovery'>
					<MovePointAvailable service_name ='ABCD3' />
					<FindNewPoint service_name = '/findpoint' />
				</Fallback>
				<Fallback name = 'move_action'>
					<RobotAtPoint service_name ='ABCD2' />
					<MoveBaseModActionClient server_name = 'movebase_mod_action' x_ = '2.7086000442504883' y_ = '5.208399772644043' z_ ='0.09854999929666519'  wx_ ='0.0' wy_ ='0.0' wz_ ='0.0' w_ ='1.0' result = '{recieved_message}' />
				</Fallback>
			</ReactiveSequence>
			<GenerateAlarm_and_SetFailure/>
		</Fallback>
	</BehaviourTree>
	<BehaviourTree ID = 'PICK2'>
		<Fallback name = 'pick_fallback'>
			<ReactiveSequence name = 'pick_behaviour'>
				<Fallback name = 'pick_recovery_action'>
					<CheckObjPose service_name ='check_current_pose' initial_pose = '[3.7875, 5.1225, 0.78, 1.0, 0.0, 0.0, 0.0]' result ='{res}' current_pose ='{pose}'  />
					<ReplanMotion service_name = '/findpoint' />
				</Fallback>
				<Fallback name = 'pick_action'>
					<DummyCondition service_name ='dummy_srv' request = 'true' result = '{res1}'/>
					<TrajArmTorsoGripActionClient server_name = 'arm_controller/follow_joint_trajectory' traj_size = '41.0' j1_pos = '[0.2004449963569641, 0.23802199959754944, 0.3158380091190338, 0.393653005361557, 0.4714690148830414, 0.5492849946022034, 0.6270999908447266, 0.7049160003662109, 0.7827309966087341, 0.8605470061302185, 0.9383630156517029, 1.0161800384521484, 1.0939899682998657, 1.1718100309371948, 1.249619960784912, 1.3274400234222412, 1.4052599668502808, 1.4830700159072876, 1.5608899593353271, 1.638700008392334, 1.7165199518203735, 1.7044800519943237, 1.692430019378662, 1.6803900003433228, 1.6683499813079834, 1.656309962272644, 1.6442699432373047, 1.6322300434112549, 1.6201800107955933, 1.608139991760254, 1.5960999727249146, 1.5840599536895752, 1.5720200538635254, 1.5599700212478638, 1.5479300022125244, 1.535889983177185, 1.5238499641418457, 1.5118099451065063, 1.4997600317001343, 1.487720012664795, 1.4756799936294556]' j1_name = 'arm_1_joint' j2_pos = '[-1.2990700006484985, -1.2213399410247803, -1.1865299940109253, -1.1517200469970703, -1.1169099807739258, -1.0821000337600708, -1.0472899675369263, -1.0124800205230713, -0.9776700139045715, -0.9428600072860718, -0.908050000667572, -0.8732389807701111, -0.8384289741516113, -0.8036190271377563, -0.7688090205192566, -0.7339990139007568, -0.6991890072822571, -0.6643790006637573, -0.6295689940452576, -0.5947589874267578, -0.5599489808082581, -0.5300559997558594, -0.5001620054244995, -0.47026899456977844, -0.44037601351737976, -0.4104830026626587, -0.3805899918079376, -0.35069599747657776, -0.3208029866218567, -0.290910005569458, -0.26101699471473694, -0.23112399876117706, -0.2012300044298172, -0.17133699357509613, -0.14144399762153625, -0.11155100166797638, -0.08165770024061203, -0.05176449939608574, -0.021871300414204597, 0.00802191998809576, 0.037915099412202835]' j2_name = 'arm_2_joint' j3_pos = '[-0.20222899317741394, -0.26052799820899963, -0.2908940017223358, -0.321260005235672, -0.3516260087490082, -0.38199299573898315, -0.41235899925231934, -0.4427250027656555, -0.4730910062789917, -0.5034570097923279, -0.5338230133056641, -0.5641890168190002, -0.5945559740066528, -0.624921977519989, -0.6552879810333252, -0.6856539845466614, -0.7160199880599976, -0.7463859915733337, -0.7767530083656311, -0.8071190118789673, -0.8374850153923035, -0.7660520076751709, -0.6946200132369995, -0.6231870055198669, -0.5517539978027344, -0.480322003364563, -0.4088889956474304, -0.33745598793029785, -0.26602399349212646, -0.1945910006761551, -0.1231589987874031, -0.051725901663303375, 0.01970669999718666, 0.0911393016576767, 0.1625719964504242, 0.23400500416755676, 0.30543699860572815, 0.3768700063228607, 0.4483020007610321, 0.5197349786758423, 0.5911679863929749]' j3_name = 'arm_3_joint' j4_pos = '[2.0018301010131836, 1.9821399450302124, 1.942039966583252, 1.9019500017166138, 1.8618500232696533, 1.8217600584030151, 1.7816599607467651, 1.741569995880127, 1.7014700174331665, 1.6613800525665283, 1.6212799549102783, 1.5811899900436401, 1.5410900115966797, 1.5010000467300415, 1.4608999490737915, 1.420799970626831, 1.3807100057601929, 1.3406100273132324, 1.3005199432373047, 1.2604199647903442, 1.220329999923706, 1.178689956665039, 1.1370500326156616, 1.095420002937317, 1.05377995967865, 1.0121400356292725, 0.9705079793930054, 0.9288709759712219, 0.8872339725494385, 0.8455970287322998, 0.8039609789848328, 0.7623239755630493, 0.7206869721412659, 0.6790500283241272, 0.6374130249023438, 0.5957769751548767, 0.5541399717330933, 0.5125030279159546, 0.47086599469184875, 0.4292300045490265, 0.38759300112724304]' j4_name = 'arm_4_joint' j5_pos = '[-1.530900001525879, -1.5361900329589844, -1.4778300523757935, -1.419469952583313, -1.361109972000122, -1.3027499914169312, -1.2443900108337402, -1.1860300302505493, -1.1276700496673584, -1.069309949874878, -1.010949969291687, -0.9525910019874573, -0.8942310214042664, -0.8358709812164307, -0.7775110006332397, -0.7191510200500488, -0.6607909798622131, -0.6024309992790222, -0.5440710186958313, -0.485711008310318, -0.4273509979248047, -0.3558639883995056, -0.28437599539756775, -0.21288900077342987, -0.141402006149292, -0.06991469860076904, 0.0015725699486210942, 0.0730597972869873, 0.1445470005273819, 0.21603399515151978, 0.28752100467681885, 0.3590089976787567, 0.4304960072040558, 0.5019829869270325, 0.5734699964523315, 0.6449580192565918, 0.7164450287818909, 0.7879319787025452, 0.8594189882278442, 0.9309059977531433, 1.0023900270462036]' j5_name = 'arm_5_joint' j6_pos = '[0.0, -0.050750598311424255, -0.06854359805583954, -0.08633659780025482, -0.10412999987602234, -0.12192299962043762, -0.1397159993648529, -0.1575089991092682, -0.17530199885368347, -0.19309499859809875, -0.21088799834251404, -0.22868099808692932, -0.2464739978313446, -0.2642669975757599, -0.28205999732017517, -0.29985299706459045, -0.31764599680900574, -0.335438996553421, -0.3532319962978363, -0.3710249960422516, -0.38881799578666687, -0.34549999237060547, -0.3021810054779053, -0.2588619887828827, -0.2155430018901825, -0.1722249984741211, -0.1289059966802597, -0.08558720350265503, -0.04226849973201752, 0.001050270046107471, 0.04436900094151497, 0.08768770098686218, 0.13100600242614746, 0.17432500422000885, 0.21764400601387024, 0.26096299290657043, 0.30428099632263184, 0.3476000130176544, 0.3909189999103546, 0.4342379868030548, 0.4775559902191162]' j6_name = 'arm_6_joint' j7_pos = '[0.0, -0.04087819904088974, -0.09016209840774536, -0.13944600522518158, -0.18873000144958496, -0.23801399767398834, -0.2872979938983917, -0.3365820050239563, -0.3858659863471985, -0.43514999747276306, -0.48443400859832764, -0.5337169766426086, -0.5830010175704956, -0.6322849988937378, -0.68156898021698, -0.7308530211448669, -0.7801370024681091, -0.8294209837913513, -0.8787050247192383, -0.9279890060424805, -0.9772729873657227, -1.0266499519348145, -1.0760300159454346, -1.1254099607467651, -1.1747900247573853, -1.2241699695587158, -1.2735400199890137, -1.3229199647903442, -1.3723000288009644, -1.421679973602295, -1.471060037612915, -1.5204399824142456, -1.5698100328445435, -1.619189977645874, -1.6685700416564941, -1.7179499864578247, -1.7673300504684448, -1.8167099952697754, -1.8660900592803955, -1.9154599905014038, -1.964840054512024]' j7_name = 'arm_7_joint' j8_pos = '[0.16590000689029694, 0.1581220030784607, 0.1561249941587448, 0.1541289985179901, 0.15213200449943542, 0.15013499557971954, 0.14813899993896484, 0.14614200592041016, 0.14414499700069427, 0.14214900135993958, 0.1401520073413849, 0.138154998421669, 0.1361590027809143, 0.13416199386119843, 0.13216599822044373, 0.13016900420188904, 0.12817199528217316, 0.12617599964141846, 0.12417899817228317, 0.12218199670314789, 0.12018600106239319, 0.1158130019903183, 0.11144000291824341, 0.1070680022239685, 0.10269500315189362, 0.09832250326871872, 0.09394989907741547, 0.08957719802856445, 0.0852046012878418, 0.08083190023899078, 0.07645930349826813, 0.07208660244941711, 0.06771399825811386, 0.06334129720926285, 0.05896870046854019, 0.05459599941968918, 0.050223398953676224, 0.04585070163011551, 0.041478101164102554, 0.0371055006980896, 0.032732799649238586]' j8_name = 'torso_lift_joint' j9_pos = '[0.02250000089406967, 0.022265100851655006, 0.022665200755000114, 0.02306539937853813, 0.02346549928188324, 0.023865699768066406, 0.024265799671411514, 0.02466600015759468, 0.02506610006093979, 0.025466300547122955, 0.025866400450468063, 0.02626650035381317, 0.026666700839996338, 0.027066800743341446, 0.027466999366879463, 0.02786709927022457, 0.028267299756407738, 0.028667399659752846, 0.029067600145936012, 0.02946770004928112, 0.029867900535464287, 0.030574500560760498, 0.03128109872341156, 0.03198770061135292, 0.03269429877400398, 0.03340090066194534, 0.034107498824596405, 0.034814100712537766, 0.03552069887518883, 0.03622730076313019, 0.03693389892578125, 0.03764050081372261, 0.03834709897637367, 0.03905380144715309, 0.03976039960980415, 0.040467001497745514, 0.041173599660396576, 0.041880201548337936, 0.042586799710989, 0.04329340159893036, 0.04399999976158142]' j9_name = 'gripper_right_finger_joint' j10_pos = '[0.02250000089406967, 0.022265100851655006, 0.022665200755000114, 0.02306539937853813, 0.02346549928188324, 0.023865699768066406, 0.024265799671411514, 0.02466600015759468, 0.02506610006093979, 0.025466300547122955, 0.025866400450468063, 0.02626650035381317, 0.026666700839996338, 0.027066800743341446, 0.027466999366879463, 0.02786709927022457, 0.028267299756407738, 0.028667399659752846, 0.029067600145936012, 0.02946770004928112, 0.029867900535464287, 0.030574500560760498, 0.03128109872341156, 0.03198770061135292, 0.03269429877400398, 0.03340090066194534, 0.034107498824596405, 0.034814100712537766, 0.03552069887518883, 0.03622730076313019, 0.03693389892578125, 0.03764050081372261, 0.03834709897637367, 0.03905380144715309, 0.03976039960980415, 0.040467001497745514, 0.041173599660396576, 0.041880201548337936, 0.042586799710989, 0.04329340159893036, 0.04399999976158142]' j10_name = 'gripper_left_finger_joint' time_from_start = '1'  result = '{recieved_message}' />
	<BehaviourTree ID = 'MOVE3'>
		<Fallback name = 'move_fallback'>
			<ReactiveSequence name = 'recovery_move'>
				<Fallback name = 'move_recovery'>
					<MovePointAvailable service_name ='ABCD3' />
					<FindNewPoint service_name = '/findpoint' />
				</Fallback>
				<Fallback name = 'move_action'>
					<RobotAtPoint service_name ='ABCD2' />
					<MoveBaseModActionClient server_name = 'movebase_mod_action' x_ = '4.436999797821045' y_ = '4.013599872589111' z_ ='0.09854999929666519'  wx_ ='0.0' wy_ ='0.0' wz_ ='0.7071070075035095' w_ ='0.7071070075035095' result = '{recieved_message}' />
				</Fallback>
			</ReactiveSequence>
			<GenerateAlarm_and_SetFailure/>
		</Fallback>
	</BehaviourTree>
</root>
